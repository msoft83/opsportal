<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Training Path</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0d6efd">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
  <h1>ðŸŽ“ Training Path</h1><table class="table table-bordered" id="trainTable"></table>
  <script>
  const dsUrl = "https://raw.githubusercontent.com/msoft83/opsportal/main/data/dataset.json";
  const stUrl = "https://raw.githubusercontent.com/msoft83/opsportal/main/data/stations.json";
  async function fetchData(){
  const [ds,st]=await Promise.all([fetch(dsUrl).then(r=>r.json()),fetch(stUrl).then(r=>r.json())]);
  let html="<tr><th>Name</th><th>User</th><th>Employee ID</th><th>Trainings</th><th>Station</th></tr>";
  ds.forEach(r=>{
    const station=st[r.uid]||"";
    html+=`<tr><td>${r.first_name}</td><td>${r.user_id}</td><td>${r.employee_id}</td>
      <td>${r.training_list.join(", ")}</td><td>${station? "Present ("+station+")":"Absent"}</td></tr>`;
  });
  document.getElementById("trainTable").innerHTML=html;
}
fetchData();
  </script>
</body>
</html>