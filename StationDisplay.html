<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Station Display</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .card { margin: 10px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,.1); }
    .login-pill { background:#e2e8f0; padding:3px 8px; border-radius:12px; font-size:0.8rem; margin-left:6px; }
    .station { font-size:1.5rem; font-weight:bold; color:#0d6efd; }
  </style>
</head>
<body class="p-4">
  <h1 class="mb-4">ðŸ“º Station Display</h1>
  <div class="row" id="displayMount"></div>

  <script>
    async function fetchStations() {
      const [ds, st] = await Promise.all([
        fetch("data/dataset.json").then(r => r.json()),
        fetch("data/stations.json").then(r => r.json())
      ]);
      renderDisplay(ds, st);
    }

    function renderDisplay(ds, st) {
      const mount = document.getElementById('displayMount');
      mount.innerHTML = '';
      ds.forEach(r => {
        const uid = r.uid;
        const station = st[uid] || "";
        const card = document.createElement('div');
        card.className = "col-md-4";
        card.innerHTML = `
          <div class="card p-3">
            <h5>${r.first_name} <span class="login-pill">${r.user_id}</span></h5>
            <p>Employee: ${r.employee_id}</p>
            <div class="station">${station}</div>
          </div>
        `;
        mount.appendChild(card);
      });
    }

    fetchStations();
  </script>
</body>
</html>
